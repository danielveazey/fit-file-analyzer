# FIT File Analyzer

A Python application using Streamlit to parse, analyze, visualize, and store history of GPS ride data from .FIT files.

## Features

*   **FIT File Parsing:** Reads data points (timestamp, coordinates, altitude, speed, heart rate, cadence, power, etc.) from `.fit` files using the `fitparse` library.
*   **Data Storage:** Stores ride summaries and paths to detailed ride data (saved as efficient Parquet files) in an SQLite database.
*   **Ride History:** Allows browsing and selecting previously uploaded rides.
*   **Summary Statistics:** Displays key metrics for each ride (Duration, Distance, Average Speed, Average Heart Rate, Total Ascent, etc.).
*   **Unit Conversion:** Displays metrics in user-friendly Imperial units (miles, mph, feet) while storing data in metric units.
*   **Interactive Map:** Shows the ride route on an interactive Folium map.
*   **Interactive Plots:** Generates Plotly charts for selected metrics (Speed, Elevation, Heart Rate, etc.) over time.
*   **Zone Analysis:** View times spent in each heart rate and power zone as recorded by the GPS
*   **Custom Zones:** Define zones that override zones defined on the GPS
*   **Data Export:** Allows downloading the raw (metric) data table as a CSV file.
*   **Web Interface:** Built with Streamlit for an easy-to-use web UI.

## Technologies Used

*   Python 3.x
*   Streamlit
*   pandas
*   fitparse
*   Plotly
*   Folium
*   streamlit-folium
*   SQLite (via Python's `sqlite3`)

## Installation

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/danielveazey/fit-file-analyzer.git
    cd fit-file-analyzer
    ```

2.  **Create and activate a virtual environment:** (Recommended)
    ```bash
    # Create environment
    python3 -m venv venv
    # Activate (macOS/Linux)
    source venv/bin/activate
    # Activate (Windows - Git Bash/WSL - same as above)
    # Activate (Windows - Command Prompt)
    # venv\Scripts\activate.bat
    # Activate (Windows - PowerShell)
    # venv\Scripts\Activate.ps1
    ```
    *(Note: You might need to adjust PowerShell execution policy: `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope Process`)*

3.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

## Running the Application

1.  Ensure your virtual environment is activated.
2.  Navigate to the `fit-file-analyzer` directory in your terminal.
3.  Run the Streamlit app:
    ```bash
    streamlit run app.py
    ```
4.  The application should automatically open in your default web browser.

## Directory Structure

```text
fit-file-analyzer/
├── .gitignore        # Specifies intentionally untracked files for Git
├── README.md         # This file
├── app.py            # Main Streamlit application script
├── data/             # Stores processed ride data (.parquet files, ignored by Git)
├── database/         # Stores the SQLite database (rides.db, ignored by Git)
├── database.py       # Module for database interactions
├── fit_parser.py     # Module for parsing FIT files
├── plotting.py       # Module for creating plots and maps
├── requirements.txt  # Project dependencies
└── venv/             # Virtual environment (ignored by Git)
```
## Attribution

*This code was generated by Google AI under the supervision and direction of Daniel Veazey.*

## To Do

Make the map toggle to full screen and use all the features available from OpenStreetMap

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
